<!DOCTYPE html>
<html>
<head>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <title>Diff tree sunburst</title>
    <link href="style.css" rel="stylesheet">
</head>
<body>
    <header>
        <h1>Diff Tree Sunburst <button id="help-button">?</button></h1>
        <div id="filter-container">
            <input id="filter-input" type="text" disabled/>
            <button id="filter-button" disabled>â†’</button>
        </div>
        <div id="upload-container" class="button">
            <span>Upload file</span>
            <input type="file" accept=".txt"/>
        </div>
    </header>
    <ul id="breadcrumb"></ul>
    <div id="diff">
        <div id="folders"></div>
        <div id="sunburst"></div>
    </div>
    <div id="help-container" class="visible">
        <div id="help-modal"></div>
        <div id="help">
            <h1>What is this?</h1>
            <p>
                This tool helps you visualise the differences between two Git trees in a more graphical way.
                It uses the output of <code>git-diff-tree</code> to display a sunburst graph showing you which folders have the most changes.
            </p>
            <h1>How does it work?</h1>
            <p>
                Open a terminal and type the following command in the directory of your versionned project
            </p>
            <pre><code>git diff-tree --name-status -r &lt;branch-name&gt; &lt;branch-name&gt; &gt; diff.txt</code></pre>
            <p>
                This command will save the content of the <a href="https://git-scm.com/docs/git-diff-tree">git diff-tree</a> in the file called diff.txt
            </p>
            <p>
                Then, click on the <i>Upload file</i> button of this page and provide the diff.txt file. The Javascript code will interpret it without saving it anywhere on the web.
            </p>
            <p>
                The input field at the top of the page allows you to filter the output. For now, it only supports <a href="https://en.wikipedia.org/wiki/Regular_expression">Regular Expressions</a>.
                If you want to filter by extension, type <code>\.extension$</code> where <code>extension</code> is the extension of the file you want to filter against.
            </p>
            <p>
                Once the <a href="https://datavizcatalogue.com/methods/sunburst_diagram.html">sunburst graph</a> has appeared, you can navigate through the hierarchy by clicking on the various categories to access the sub folders. Click on the middle of the graph or on the breadcrumb in the top-left corner of the window to move up in the hierarchy.
            </p>
            <h1>Disclaimer</h1>
            <p>
                The tool is not really error-proof so bear with it!
            </p>
            <h1>Credits</h1>
            <p>
                Developed by <a href="mailto:valentin.chareyre@fortitudegames.co.uk">Valentin Chareyre</a>
            </p>
            <p>
                Sunburst library by <a href="https://github.com/vasturiano">Vasco Asturiano</a>
            </p>
        </div>
    </div>
    <!-- https://github.com/vasturiano/sunburst-chart -->
    <script src="https://unpkg.com/sunburst-chart"></script>
    <script src="diff-tree.js"></script>
</body>
</html>
